{"version":3,"sources":["store/reducers/user.js","store/reducers/chat.js","store/reducers/socket.js","store/reducers/index.js","store/store.js","services/api/axios_conf.js","services/api/userApi.js","store/actions/socket.js","store/actions/user.js","images/user-icon.svg","images/lock-icon.svg","components/SignInForm.js","components/SignUpForm.js","images/sign-back.png","components/Auth.js","services/api/chatApi.js","store/actions/chat.js","images/join-bg.png","components/Join.js","images/chat-sidebar-bg.png","images/back-icon.svg","images/phone-icon.svg","images/message-icon.svg","components/Sidebar.js","utils/generateAvatar.js","components/Avatar.js","components/MembersList.js","images/back-chats-icon.svg","components/Topbar.js","components/MessagesList.js","components/ChatInput.js","components/MessagesHistory.js","components/ChatsList.js","components/Chat.js","components/ProtectedRoute.js","App.js","reportWebVitals.js","index.js"],"names":["initialState","data","user","state","type","payload","window","localStorage","TOKEN","axios","defaults","headers","common","currentChat","chat","messages","_id","chat_id","members","find","m","Array","isArray","map","currentChatId","io","socket","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","thunk","axiosInstance","create","baseURL","responseType","access_token","interceptors","response","use","error","status","dispatch","logoutAction","userApi","login","a","mail","pass","post","email","password","console","log","register","name","getUser","get","then","catch","err","setChatInfo","id","require","getUserAction","setUser","auth","token","loginAction","credentials","registerAction","SignInForm","props","useDispatch","history","useHistory","useState","setMail","setPass","handleSubmit","e","preventDefault","push","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","autoComplete","action","method","onSubmit","className","src","userIcon","alt","required","placeholder","value","onChange","target","lockIcon","defaultChecked","check","Validator","compile","min","max","stringMin","stringMax","agreement","equalValue","validate","values","errors","length","reduce","acc","val","field","message","setName","setAgreement","setErrors","clsx","toLowerCase","prevState","htmlFor","AuthPage","style","backgroundImage","main_back","backgroundRepeat","backgroundPosition","backgroundSize","to","exact","path","component","SignUpForm","chatApi","joinChat","sendMesage","chatId","text","sendAdminMesage","getChat","getAdminChat","getMessages","setCurrentChat","getChatInfo","Object","keys","Join","useSelector","chatTypes","setchatTypes","checkData","useCallback","res","useEffect","role","handleCLick","joinBg","onClick","withRouter","memo","Sidebar","ref","isVisible","sidebarBg","sidebarBackIcon","setSidebarVisible","url","width","height","phoneIcon","messageIcon","forwardRef","generateAvatar","hash","substr","split","char","charCodeAt","r","g","b","tinycolor","lighten","brighten","saturate","toHexString","Avatar","color","background","toUpperCase","MembersList","member","Topbar","userRole","i","join","trigger","closeOnDocumentClick","on","backChatsIcon","MessagesList","messagesRef","useRef","current","scrollTo","scrollHeight","ChatInput","setValue","handleAddMessage","msg","addMessage","removeEventListener","handleSendMessage","sendAdminMessageAction","sendMessageAction","onKeyDown","key","shiftKey","disabled","MessagesHistory","ChatsList","chats","handleChatClick","getCurrentChatAction","setIsVisible","handleOutsideClick","contains","handleNewChat","addNewChatAction","handleNewUser","addNewChatUserAction","document","addEventListener","ProtectedRoute","Component","rest","render","App","Chat","Auth","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.005f8bae.chunk.js","sourcesContent":["import axios from '../../services/api/axios_conf';\n\nconst initialState = {\n  data: null,\n};\n\nconst user = function (state = initialState, { type, payload }) {\n  switch (type) {\n    case 'SET_USER':\n      return {\n        data: payload,\n      };\n    case 'LOGOUT':\n      if (window.localStorage.TOKEN) {\n        delete window.localStorage.TOKEN;\n      }\n      if (axios.defaults.headers.common['Authorization']) {\n        axios.defaults.headers.common['Authorization'] = null;\n      }\n      return {\n        data: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default user;\n","const initialState = {\n  data: null,\n  currentChat: null,\n};\n\nconst chat = function (state = initialState, { type, payload }) {\n  switch (type) {\n    case 'SET_CHAT_INFO':\n      return {\n        ...state,\n        data: payload,\n      };\n    case 'SET_CURRENT_CHAT':\n      return {\n        ...state,\n        currentChat: payload,\n      };\n\n    case 'ADD_NEW_MESSAGE':\n      return {\n        ...state,\n        currentChat: {\n          ...state.currentChat,\n          messages: [...state.currentChat.messages, payload],\n        },\n      };\n    case 'ADD_NEW_CHAT':\n      return {\n        ...state,\n        data: [...state.data, payload],\n      };\n    case 'ADD_NEW_CHAT_USER':\n      let { data, currentChat } = state;\n\n      if (currentChat._id === payload.chat_id) {\n        if (!currentChat.members.find((m) => m._id === payload._id)) {\n          currentChat = {\n            ...currentChat,\n            members: [...currentChat.members, payload],\n          };\n        }\n      }\n\n      if (Array.isArray(state.data)) {\n        data = data.map((chat) => {\n          return chat._id === payload.chat_id\n            ? { ...chat, members: [...chat.members, payload] }\n            : chat;\n        });\n      }\n\n      return {\n        ...state,\n        data,\n        currentChat,\n      };\n    case 'LOGOUT':\n      return {\n        data: null,\n        currentChat: null,\n        currentChatId: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default chat;\n","const initialState = {\n  io: null,\n};\n\nconst socket = function (state = initialState, { type, payload }) {\n  switch (type) {\n    case 'INIT_SOCKET':\n      return {\n        io: payload,\n      };\n    case 'LOGOUT':\n      return {\n        io: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default socket;\n","import { combineReducers } from 'redux';\nimport user from './user';\nimport chat from './chat';\nimport socket from './socket';\n\nexport default combineReducers({\n  user,\n  chat,\n  socket,\n});\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport reducers from \"./reducers\";\nimport thunk from \"redux-thunk\";\n\n//Для работы редакса в chrome devtools\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\n\nexport default store;\n","import axios from 'axios';\nimport store from '../../store/store';\nimport { logoutAction } from '../../store/actions/user';\nconst axiosInstance = axios.create({\n  baseURL: 'https://api.chat.coelix.online/api',\n  responseType: 'json',\n});\n\nlet access_token = window.localStorage.TOKEN;\naxiosInstance.defaults.headers.common[\n  'Authorization'\n] = `Bearer ${access_token}`;\n\naxiosInstance.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (error.response.status === 401) {\n      store.dispatch(logoutAction());\n    }\n    return error;\n  }\n);\n\nexport default axiosInstance;\n","import axios from '../api/axios_conf';\n\nconst userApi = {\n  login: async ({ mail, pass }) => {\n    try {\n      const data = await axios.post('/auth/login', {\n        email: mail,\n        password: pass,\n      });\n      return data;\n    } catch (err) {\n      console.log(err);\n    }\n  },\n  register: ({ mail, pass, name }) => {\n    return axios.post('/auth/reg', {\n      email: mail,\n      password: pass,\n      name,\n    });\n  },\n  getUser: () => {\n    return axios\n      .get('/user')\n      .then(({ data }) => {\n        return data;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  },\n  setChatInfo: (id) => {\n    return axios\n      .post('/client/chat/join', { type: id })\n      .then((data) => {\n        return data;\n      })\n      .catch((err) => {\n        console.log('Response error');\n      });\n  },\n};\n\nexport default userApi;\n","const io = require('socket.io-client');\n\nconst socketInit = () => ({\n  type: 'INIT_SOCKET',\n  payload: io('https://api.chat.coelix.online', {\n    auth: {\n      token: `Bearer ${window.localStorage.TOKEN}`,\n      //(context) => { return (context.rootState.Auth.token || \"no token\"); }\n    },\n  }),\n});\n\nexport { socketInit };\n","import userApi from '../../services/api/userApi';\nimport axios from '../../services/api/axios_conf';\nimport { socketInit } from './socket.js';\n\nexport const setUser = (data) => ({\n  type: 'SET_USER',\n  payload: data,\n});\n\nexport const getUserAction = () => (dispatch) => {\n  return userApi\n    .getUser()\n    .then((data) => {\n      if (data) {\n        dispatch(setUser(data));\n      }\n      return data;\n    })\n    .then((data) => {\n      if (data) {\n        dispatch(socketInit());\n      }\n      return data;\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nexport const loginAction = (credentials) => (dispatch) => {\n  return userApi\n    .login(credentials)\n    .then(({ data }) => {\n      const access_token = data?.access_token;\n      window.localStorage.TOKEN = access_token;\n      axios.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n      return data;\n    })\n    .then((data) => {\n      dispatch(getUserAction());\n      return data;\n    })\n    .catch((err) => {\n      console.log(err);\n      return err;\n    });\n};\n\nexport const registerAction = (data) => (dispatch) => {\n  return userApi\n    .register(data)\n    .then((data) => data)\n    .catch((err) => err);\n};\n\nexport const logoutAction = () => ({\n  type: 'LOGOUT',\n  payload: null,\n});\n","export default __webpack_public_path__ + \"static/media/user-icon.30a690b8.svg\";","export default __webpack_public_path__ + \"static/media/lock-icon.dc0e2e72.svg\";","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nimport { loginAction } from '../store/actions/user';\nimport { toast } from 'react-toastify';\n\nimport userIcon from '../images/user-icon.svg';\nimport lockIcon from '../images/lock-icon.svg';\n\nconst SignInForm = ({ props }) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const [mail, setMail] = useState('');\n  const [pass, setPass] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    dispatch(loginAction({ mail, pass })).then((data) => {\n      if (data) {\n        history.push('/join');\n      } else {\n        toast.error('Wrong email or password!', {\n          position: 'top-center',\n          autoClose: 3000,\n          hideProgressBar: true,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        });\n      }\n    });\n  };\n  return (\n    <form autoComplete='off' action='/' method='post' onSubmit={handleSubmit}>\n      <div className='field-wrap'>\n        <img src={`${userIcon}`} alt='' />\n        <input\n          type='text'\n          required\n          autoComplete='off'\n          placeholder='Login'\n          value={mail}\n          onChange={(e) => setMail(e.target.value)}\n        />\n      </div>\n      <div className='field-wrap'>\n        <img src={`${lockIcon}`} alt='' />\n        <input\n          type='password'\n          required\n          autoComplete='off'\n          placeholder='Password'\n          value={pass}\n          onChange={(e) => setPass(e.target.value)}\n        />\n      </div>\n      <div className='checkbox'>\n        <input type='checkbox' defaultChecked='checked' />\n        <label>Forget password</label>\n      </div>\n      <button className='btn' type='submit'>\n        Log In\n      </button>\n    </form>\n  );\n};\n\nexport default SignInForm;\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport Validator from 'fastest-validator';\nimport clsx from 'clsx';\n\nimport { registerAction, loginAction } from '../store/actions/user';\n\nimport userIcon from '../images/user-icon.svg';\nimport lockIcon from '../images/lock-icon.svg';\n\nconst validationSchema = {\n  name: {\n    type: 'string',\n    min: 1,\n    messages: {\n      required: 'This field cannot be blank',\n    },\n  },\n  mail: {\n    type: 'email',\n    messages: {\n      required: 'This field cannot be blank',\n      email: 'Invalid e-mail',\n    },\n  },\n  pass: {\n    type: 'string',\n    min: 6,\n    max: 30,\n    messages: {\n      required: 'This field cannot be blank',\n      stringMin: 'Passord length must be 6-30 characters',\n      stringMax: 'Passord length must be 6-30 characters',\n    },\n  },\n  agreement: {\n    type: 'equal',\n    value: true,\n    messages: {\n      equalValue: 'You have to agree with Privacy Policy and Terms',\n    },\n  },\n};\n\nconst check = new Validator().compile(validationSchema);\n\nconst validate = (values) => {\n  const errors = check(values);\n\n  return errors.length\n    ? errors.reduce((acc, val) => ({ ...acc, [val.field]: val.message }), {})\n    : null;\n};\n\nconst SignInForm = ({ props }) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const [mail, setMail] = useState('');\n  const [pass, setPass] = useState('');\n  const [name, setName] = useState('');\n  const [agreement, setAgreement] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const errors = validate({ mail, pass, name, agreement });\n    setErrors(errors);\n    if (!errors) {\n      dispatch(registerAction({ mail, pass, name, agreement }))\n        .then((data) => {\n          if (data?.status === 200) {\n            dispatch(loginAction({ mail, pass })).then((data) => {\n              if (data) {\n                history.push('/join');\n              }\n            });\n          } else {\n            toast.error('Something went wrong', {\n              position: 'top-center',\n              autoClose: 3000,\n              hideProgressBar: true,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n          }\n        })\n        .catch((err) => console.log('ERROR', err));\n    }\n  };\n\n  return (\n    <form autoComplete='off' action='/' method='post' onSubmit={handleSubmit}>\n      <div\n        className={clsx('field-wrap', {\n          'field-wrap--err': errors?.name,\n        })}\n      >\n        <img src={`${userIcon}`} alt='' />\n        <input\n          type='text'\n          autoComplete='off'\n          placeholder='Full Name'\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n        />\n      </div>\n      <div\n        className={clsx('field-wrap', {\n          'field-wrap--err': errors?.mail,\n        })}\n      >\n        <img src={`${lockIcon}`} alt='' />\n        <input\n          type='email'\n          autoComplete='off'\n          placeholder='E-mail'\n          value={mail}\n          onChange={(e) => setMail(e.target.value.toLowerCase())}\n        />\n      </div>\n      <div\n        className={clsx('field-wrap', {\n          'field-wrap--err': errors?.pass,\n        })}\n      >\n        <img src={`${lockIcon}`} alt='' />\n        <input\n          type='password'\n          autoComplete='off'\n          placeholder='Password'\n          value={pass}\n          onChange={(e) => setPass(e.target.value)}\n        />\n      </div>\n      <div\n        className={clsx('checkbox', {\n          'checkbox--err': errors?.agreement,\n        })}\n      >\n        <input\n          type='checkbox'\n          id='agreement'\n          value={agreement}\n          onChange={() => setAgreement((prevState) => !prevState)}\n        />\n        <label htmlFor='agreement'>\n          I accept the <span> Privacy Policy</span> and <span>Terms</span>\n        </label>\n        {errors?.agreement && (\n          <span className='field-wrap__error'>* {errors.agreement}</span>\n        )}\n      </div>\n      <button className='btn btn--auth' type='submit'>\n        Create Account\n      </button>\n    </form>\n  );\n};\n\nexport default SignInForm;\n","export default __webpack_public_path__ + \"static/media/sign-back.120789b9.png\";","import React from 'react';\nimport { Route, NavLink } from 'react-router-dom';\nimport SignInForm from './SignInForm';\nimport SignUpForm from './SignUpForm';\nimport main_back from '../images/sign-back.png';\n\nfunction AuthPage(props) {\n  if (window.localStorage.TOKEN) {\n    props.history.push('/join');\n  }\n\n  return (\n    <div\n      className='auth'\n      style={{\n        backgroundImage: 'url(' + main_back + ')',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        backgroundSize: 'cover',\n      }}\n    >\n      <div className='inner-container'>\n        <h1>Welcome to Chat</h1>\n        <p>\n          Lorem ipsum dolor sit amet, consectetur <br /> adipiscing elit.\n        </p>\n        <div className='buttons'>\n          <NavLink to='/auth/signin'>\n            <button className='btn'>Sign In</button>\n          </NavLink>\n          <NavLink to='/auth/register'>\n            <button className='btn'>Sign Up</button>\n          </NavLink>\n        </div>\n        <Route exact path='/auth/signin' component={SignInForm}></Route>\n        <Route exact path='/auth/register' component={SignUpForm}></Route>\n      </div>\n    </div>\n  );\n}\n\nexport default AuthPage;\n","import axios from '../api/axios_conf';\nconst chatApi = {\n  joinChat: async (id) => {\n    try {\n      const data = await axios.post('/client/chat/join', { type: id });\n      return data;\n    } catch (error) {\n      console.log('Response error', error);\n    }\n  },\n  sendMesage: (chatId, value) => {\n    axios.post(`/client/chat/${chatId}`, { text: value });\n  },\n  sendAdminMesage: (chatId, value) => {\n    axios.post(`/admin/chat/${chatId}`, { text: value });\n  },\n  getChat: async () => {\n    try {\n      const data = await axios.get('/client/chat');\n      return data;\n    } catch (error) {\n      console.log('Response error', error);\n    }\n  },\n  getAdminChat: async () => {\n    try {\n      const data = await axios.get('/admin/chat');\n      return data;\n    } catch (error) {\n      console.log('Response error', error);\n    }\n  },\n  getMessages: async (id) => {\n    try {\n      const data = await axios.get(`/admin/chat/${id}`);\n      return data;\n    } catch (error) {\n      console.log('Response error', error);\n    }\n  },\n};\n\nexport default chatApi;\n","import chatApi from '../../services/api/chatApi';\n\nconst setChatInfo = (data) => ({\n  type: 'SET_CHAT_INFO',\n  payload: data,\n});\n\nexport const addMessage = (msg) => ({\n  type: 'ADD_NEW_MESSAGE',\n  payload: msg,\n});\n\nexport const joinChat = (id) => async (dispatch) => {\n  return chatApi\n    .joinChat(id)\n    .then((data) => {\n      dispatch(setChatInfo(data?.data));\n      dispatch(setCurrentChat(data?.data));\n      return data;\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nexport const getAdminChatInfo = () => async (dispatch) => {\n  const data = await chatApi.getAdminChat();\n  dispatch(setChatInfo(data?.data));\n  return data?.data;\n};\n\nexport const getChatInfo = () => async (dispatch) => {\n  const { data } = await chatApi.getChat();\n  Object.keys(data).length\n    ? dispatch(setCurrentChat(data))\n    : dispatch(setCurrentChat(null));\n  return data;\n};\n\nexport const setCurrentChat = (data) => ({\n  type: 'SET_CURRENT_CHAT',\n  payload: data,\n});\n\nexport const getCurrentChatAction = (id) => async (dispatch) => {\n  const data = await chatApi.getMessages(id);\n  dispatch(setCurrentChat(data?.data));\n};\n\nexport const addNewChatAction = (chat) => ({\n  type: 'ADD_NEW_CHAT',\n  payload: chat,\n});\n\nexport const addNewChatUserAction = (user) => ({\n  type: 'ADD_NEW_CHAT_USER',\n  payload: user,\n});\n\nexport const sendMessageAction = (chatId, value) => (dispatch) => {\n  chatApi.sendMesage(chatId, value);\n};\nexport const sendAdminMessageAction = (chatId, value) => (dispatch) => {\n  chatApi.sendAdminMesage(chatId, value);\n};\n","export default __webpack_public_path__ + \"static/media/join-bg.7a7f01a0.png\";","import React, { useState, useEffect, useCallback, memo } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport axios from '../services/api/axios_conf';\nimport { joinChat, getChatInfo } from '../store/actions/chat';\nimport { getUserAction } from '../store/actions/user';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport joinBg from '../images/join-bg.png';\n\nfunction Join({ history }) {\n    const dispatch = useDispatch();\n    const { user } = useSelector(({ user }) => ({\n        user: user.data,\n    }));\n    const [chatTypes, setchatTypes] = useState([]);\n    const checkData = useCallback(\n        (data) => {\n            if (Object.keys(data).length) {\n                history.push('/chat');\n            } else {\n                axios.get('/chat-types').then((res) => {\n                    const chatTypes = res?.data;\n                    setchatTypes(chatTypes);\n                });\n            }\n        },\n        [history]\n    );\n    useEffect(() => {\n        if (!user) {\n            dispatch(getUserAction()).then((data) => {\n                if (data?.role.name === 'Admin') {\n                    history.push('/chat');\n                }\n                if (data?.role.name === 'Client') {\n                    dispatch(getChatInfo()).then((data) => {\n                        checkData(data);\n                    });\n                }\n            });\n        }\n    }, [checkData, dispatch, user, history]);\n\n    const handleCLick = async (e) => {\n        dispatch(joinChat(e.target.id)).then(() => {\n            history.push('/chat');\n        });\n    };\n\n    return (\n        <div className='join' style={{ backgroundImage: `url(${joinBg})` }}>\n<div className='join__inner'>\n        <h1 className='join__title'>Welcome to Chat</h1>\n    <p className='join__text'>\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit\n    </p>\n    <div className='join__buttons'></div>\n        {chatTypes?.map((type) => {\n            return (\n                <button\n            key={type._id}\n            name={type.name}\n            id={type._id}\n            onClick={handleCLick}\n            className='btn'\n                >\n                {type.name}\n            </button>\n            );\n        })}\n</div>\n    </div>\n);\n}\n\nexport default withRouter(memo(Join));\n","export default __webpack_public_path__ + \"static/media/chat-sidebar-bg.37de6930.png\";","export default __webpack_public_path__ + \"static/media/back-icon.68c0aaff.svg\";","export default __webpack_public_path__ + \"static/media/phone-icon.28f6dfd9.svg\";","export default __webpack_public_path__ + \"static/media/message-icon.f6ec0898.svg\";","import React, { forwardRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { logoutAction } from '../store/actions/user';\nimport clsx from 'clsx';\nimport ReactPlayer from 'react-player';\n\nimport sidebarBg from '../images/chat-sidebar-bg.png';\nimport sidebarBackIcon from '../images/back-icon.svg';\nimport phoneIcon from '../images/phone-icon.svg';\nimport messageIcon from '../images/message-icon.svg';\n\nconst Sidebar = (props, ref) => {\n    const dispatch = useDispatch();\n\n    const onLogoutCLick = () => {\n        dispatch(logoutAction());\n        props.history.push('/');\n    };\n    const toggleSidebarVisible = () =>\n        props.setSidebarVisible((prevState) => !prevState);\n\n    return (\n        <div\n    className={clsx('sidebar', {\n        'sidebar--visible': props.isVisible,\n    })}\n    ref={ref}\n        >\n        <div\n    className='sidebar__inner'\n    style={{ backgroundImage: `url(${sidebarBg})` }}\n    >\n    <img\n    className='sidebar__close'\n    src={sidebarBackIcon}\n    alt=''\n    onClick={toggleSidebarVisible}\n        />\n\n        <h1>Chat</h1>\n        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit</p>\n    <div className='sidebar__preview'>\n        <ReactPlayer\n    url='https://youtu.be/LXb3EKWsInQ'\n    width='100%'\n    height='100%'\n        />\n        </div>\n        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit</p>\n    <div className='sidebar__contacts'>\n        <div className='sidebar__contacts-phone'>\n        <img src={phoneIcon} alt='' />\n        <span>Lorem ipsum dolor sit amet</span>\n    </div>\n    <div className='sidebar__contacts-message'>\n        <img src={messageIcon} alt='' />\n        <span>Lorem ipsum dolor sit amet</span>\n    </div>\n    </div>\n    </div>\n    <button className='btn' onClick={onLogoutCLick}>\n        Logout\n        </button>\n        </div>\n    );\n};\n\nexport default forwardRef(Sidebar);\n","import tinycolor from 'tinycolor2';\n\nconst getCorrectIndex = (value) => (value > 255 ? 255 : value < 0 ? 0 : value);\n\nconst generateAvatar = (hash) => {\n  const [r, g, b] = hash\n    ?.substr(6, 9)\n    .split('')\n    .map((char) => getCorrectIndex(char.charCodeAt(0)));\n\n  return tinycolor({ r, g, b })\n    .lighten(15)\n    .brighten(10)\n    .saturate(45)\n    .toHexString();\n};\nexport default generateAvatar;\n","import React from 'react';\nimport generateAvatar from '../utils/generateAvatar';\n\nconst Avatar = ({ data }) => {\n  let color;\n  if (data) {\n    color = generateAvatar(data?._id);\n  }\n\n  return (\n    <div\n      className='avatar'\n      style={{\n        background: color,\n      }}\n    >\n      {data?.members?.[0].name[0].toUpperCase()}\n      {data?.name && data?.name[0].toUpperCase()}\n    </div>\n  );\n};\n\nexport default Avatar;\n","import React from 'react';\n\nimport Avatar from '../components/Avatar';\n\nconst MembersList = ({ members }) => {\n  return (\n    <div className='members'>\n      {members?.map((member) => {\n        return (\n          <div className='members__item' key={member._id}>\n            <div className='members__item-content'>\n              <h3>{member.name}</h3>\n            </div>\n            <Avatar data={member} />\n          </div>\n        );\n      })}\n    </div>\n  );\n};\nexport default MembersList;\n","export default __webpack_public_path__ + \"static/media/back-chats-icon.7acb9cbc.svg\";","import React, { memo } from 'react';\nimport Popup from 'reactjs-popup';\nimport { useDispatch } from 'react-redux';\nimport { setCurrentChat } from '../store/actions/chat';\nimport MembersList from '../components/MembersList';\n\nimport backChatsIcon from '../images/back-chats-icon.svg';\n\nconst Topbar = ({ chat, setSidebarVisible, userRole }) => {\n  const dispatch = useDispatch();\n\n  const toggleSidebarVisible = () => {\n    setSidebarVisible((prevState) => !prevState);\n  };\n\n  return (\n    <div className='topbar'>\n      <div className='burger' onClick={toggleSidebarVisible}>\n        <span className='burger__block'> </span>\n        <span className='burger__block'> </span>\n        <span className='burger__block'> </span>\n      </div>\n      {chat && (\n        <>\n          <div className='topbar__content'>\n            <div className='topbar__members'>\n              <p>{chat?.members.map((m, i) => m.name).join(', ')}</p>\n            </div>\n\n            <Popup\n              trigger={() => <span>{chat?.members?.length} members</span>}\n              closeOnDocumentClick\n              on={['hover']}\n              position='bottom center'\n            >\n              <MembersList members={chat?.members} />\n            </Popup>\n          </div>\n          {userRole === 'Admin' && (\n            <img\n              className='topbar__back'\n              src={backChatsIcon}\n              alt=''\n              onClick={() => dispatch(setCurrentChat(null))}\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default memo(Topbar);\n","import React, { useRef, useEffect } from 'react';\nimport Avatar from './Avatar';\nimport clsx from 'clsx';\n\nconst MessagesList = ({ messages, user }) => {\n  const messagesRef = useRef();\n\n  useEffect(() => {\n    messagesRef.current.scrollTo(0, messagesRef.current.scrollHeight);\n  }, [messages]);\n  return (\n    <div className='messages' ref={messagesRef}>\n      {messages?.map((message) => (\n        <div\n          className={clsx('messages__item', {\n            'messages__item--is-me': user?._id === message?.user._id,\n          })}\n          key={message._id}\n        >\n          <Avatar data={message.user} />\n          <div className='messages__item-content'>\n            <p>{message.text}</p>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default MessagesList;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n  addMessage,\n  sendAdminMessageAction,\n  sendMessageAction,\n} from '../store/actions/chat';\n\nconst ChatInput = ({ chat, socket, userRole }) => {\n  const [value, setValue] = useState('');\n  const dispatch = useDispatch();\n\n  const handleAddMessage = useCallback(\n    (msg) => {\n      if (chat._id === msg.chat_id) {\n        dispatch(addMessage(msg));\n      }\n    },\n    [chat._id, dispatch]\n  );\n\n  useEffect(() => {\n    socket?.on('MESSAGE', handleAddMessage);\n    return () => {\n      socket?.removeEventListener('MESSAGE', handleAddMessage);\n    };\n  }, [socket, dispatch, handleAddMessage]);\n\n  const onTextareaChange = (e) => setValue(e.target.value);\n\n  const handleEnterPressed = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      if (value) {\n        handleSendMessage();\n      }\n    }\n  };\n\n  const handleSendMessage = () => {\n    if (userRole === 'Admin') {\n      dispatch(sendAdminMessageAction(chat._id, value));\n    }\n    if (userRole === 'Client') {\n      dispatch(sendMessageAction(chat._id, value));\n    }\n    setValue('');\n  };\n\n  return (\n    <div className='chat-input'>\n      <textarea\n        value={value}\n        onChange={onTextareaChange}\n        onKeyDown={handleEnterPressed}\n        placeholder='Type a message...'\n      />\n      <button onClick={handleSendMessage} disabled={!value}>Type</button>\n    </div>\n  );\n};\n\nexport default ChatInput;\n","import React from 'react';\nimport Topbar from './Topbar';\nimport MessagesList from './MessagesList';\nimport ChatInput from './ChatInput';\n\nconst MessagesHistory = ({ socket, user, currentChat, setSidebarVisible }) => {\n  return (\n    <div className='messages__history'>\n      <Topbar\n        chat={currentChat}\n        setSidebarVisible={setSidebarVisible}\n        userRole={user?.role.name}\n      />\n\n      {currentChat ? (\n        <>\n          <MessagesList messages={currentChat?.messages} user={user} />\n          <ChatInput\n            chat={currentChat}\n            socket={socket}\n            userRole={user?.role.name}\n          />\n        </>\n      ) : (\n        <div className='messages__empty'>Choose a chat</div>\n      )}\n    </div>\n  );\n};\n\nexport default MessagesHistory;\n","import React, { memo } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { getCurrentChatAction } from '../store/actions/chat';\nimport clsx from 'clsx';\nimport Avatar from './Avatar';\n\nconst ChatsList = ({ chats, currentChatId }) => {\n  const dispatch = useDispatch();\n\n  const handleChatClick = (id) => () => {\n    dispatch(getCurrentChatAction(id));\n  };\n\n  return (\n    <div className='chats'>\n      {chats &&\n        chats.map((chat) => {\n          return (\n            <div\n              className={clsx('chats__item', {\n                'chats__item--active': currentChatId === chat._id,\n              })}\n              key={chat._id}\n              onClick={handleChatClick(chat._id)}\n            >\n              <div className='chats__item-content'>\n                <h3>{chat.members.map((m) => m.name).join(', ')}</h3>\n              </div>\n              <Avatar data={chat} />\n            </div>\n          );\n        })}\n    </div>\n  );\n};\n\nexport default memo(ChatsList);\n","import React, { useEffect, useState, memo, useCallback, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport clsx from 'clsx';\nimport {\n    getChatInfo,\n    getAdminChatInfo,\n    addNewChatAction,\n    addNewChatUserAction,\n} from '../store/actions/chat';\nimport { getUserAction } from '../store/actions/user';\nimport Sidebar from './Sidebar';\nimport MessagesHistory from './MessagesHistory';\nimport ChatsList from './ChatsList';\nimport MembersList from './MembersList';\n\nconst Chat = ({ history }) => {\n    const dispatch = useDispatch();\n    const { currentChat, chat, socket, user, userRole } = useSelector(\n        ({ chat, socket, user }) => ({\n            chat: chat.data,\n            currentChat: chat.currentChat,\n            socket: socket.io,\n            user: user.data,\n            userRole: user.data?.role?.name,\n})\n    );\n    const [isVisible, setIsVisible] = useState(false);\n    const ref = useRef();\n\n    const handleOutsideClick = useCallback(\n        (e) => {\n            if (\n                ref.current &&\n                !ref.current.contains(e.target) &&\n                e.target.className !== 'burger' &&\n                e.target.className !== 'burger__block'\n            ) {\n                setIsVisible(false);\n            }\n        },\n        [ref]\n    );\n\n    const handleNewChat = useCallback(\n        (chat) => {\n            if (user?.role.name === 'Admin') {\n                dispatch(addNewChatAction(chat));\n            }\n        },\n        [user, dispatch]\n    );\n\n    const handleNewUser = useCallback(\n        (user) => {\n            dispatch(addNewChatUserAction(user));\n        },\n        [dispatch]\n    );\n\n    useEffect(() => {\n        socket?.on('NEW_CHAT', handleNewChat);\n        socket?.on('NEW_USER', handleNewUser);\n        return () => {\n            socket?.removeEventListener('NEW_CHAT', handleNewChat);\n            socket?.removeEventListener('NEW_USER', handleNewUser);\n        };\n    }, [socket, handleNewChat, handleNewUser]);\n\n    useEffect(() => {\n        document.addEventListener('click', handleOutsideClick);\n        return () => document.removeEventListener('click', handleOutsideClick);\n    }, [handleOutsideClick]);\n\n    useEffect(() => {\n        if (!user) {\n            dispatch(getUserAction());\n        }\n    }, [user, dispatch]);\n\n    useEffect(() => {\n        if (!chat) {\n            if (userRole === 'Admin') {\n                dispatch(getAdminChatInfo());\n            }\n            if (userRole === 'Client') {\n                dispatch(getChatInfo());\n            }\n        }\n    }, [chat, userRole, dispatch]);\n\n    return (\n        <div className='chat'>\n        <Sidebar\n    isVisible={isVisible}\n    ref={ref}\n    history={history}\n    setSidebarVisible={setIsVisible}\n        />\n\n        <MessagesHistory\n    socket={socket}\n    currentChat={currentChat}\n    user={user}\n    setSidebarVisible={setIsVisible}\n        />\n\n        <div\n    className={clsx('chat__dialogs', {\n        'chat__dialogs--visible': currentChat,\n            'chat__dialogs--hide': userRole === 'Client',\n    })}\n    >\n    {userRole === 'Admin' && (\n    <ChatsList chats={chat} currentChatId={currentChat?._id} />\n    )}\n    {userRole === 'Client' && (\n    <MembersList members={currentChat?.members} />\n    )}\n    </div>\n    </div>\n    );\n};\n\nexport default memo(withRouter(Chat));\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nfunction ProtectedRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={() => {\n        if (window.localStorage.TOKEN) {\n          return <Component />;\n        } else {\n          return <Redirect to='/auth/signin' />;\n        }\n      }}\n    />\n  );\n}\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport Auth from './components/Auth';\nimport Join from './components/Join';\nimport Chat from './components/Chat';\nimport ProtectedRoute from './components/ProtectedRoute';\n\nfunction App() {\n  return (\n    <Switch>\n      <ProtectedRoute exact path={['/join']} component={Join} />\n      <ProtectedRoute exact path={['/', '/chat']} component={Chat} />\n      <Route path='/auth' component={Auth} />\n    </Switch>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './scss/index.scss';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport reportWebVitals from './reportWebVitals';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport store from './store/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Provider store={store}>\n        <ToastContainer\n         />\n        <App />\n      </Provider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}